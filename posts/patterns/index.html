<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>üìù Design Patterns notes | Just another developer</title><meta name=keywords content="Software Engineering,Programming,Python"><meta name=description content="Some notes about design patterns"><meta name=author content="Xiang Chen"><link rel=canonical href=https://xiang.es/posts/patterns/><link crossorigin=anonymous href=/assets/css/stylesheet.b183800e2cfbb62c3bce2b2ba56cdb2dd33af76c75cf4550173d5dfebd7c68a6.css integrity="sha256-sYOADiz7tiw7zisrpWzbLdM692x1z0VQFz1d/r18aKY=" rel="preload stylesheet" as=style><link rel=icon href=https://xiang.es/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://xiang.es/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://xiang.es/favicon-32x32.png><link rel=apple-touch-icon href=https://xiang.es/apple-touch-icon.png><link rel=mask-icon href=https://xiang.es/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="üìù Design Patterns notes"><meta property="og:description" content="Some notes about design patterns"><meta property="og:type" content="article"><meta property="og:url" content="https://xiang.es/posts/patterns/"><meta property="og:image" content="https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?cs=srgb&dl=pexels-picjumbocom-196644.jpg&fm=jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-08-28T00:00:00+00:00"><meta property="article:modified_time" content="2021-08-28T00:00:00+00:00"><meta property="og:site_name" content="Just another developer"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?cs=srgb&dl=pexels-picjumbocom-196644.jpg&fm=jpg"><meta name=twitter:title content="üìù Design Patterns notes"><meta name=twitter:description content="Some notes about design patterns"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://xiang.es/posts/"},{"@type":"ListItem","position":2,"name":"üìù Design Patterns notes","item":"https://xiang.es/posts/patterns/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"üìù Design Patterns notes","name":"üìù Design Patterns notes","description":"Some notes about design patterns\n","keywords":["Software Engineering","Programming","Python"],"articleBody":"Some notes about design patterns\nBehavioral Strategy Pattern Define a family of algorithms, encapsulate each one, and make them interchangeable. Strategy lets the algorithm vary independently from clients that use it.\nHAS-A can be better than IS-A Duck - flyBehavior # classes or functions - quackBehavior # classes or functions - swim() - display() - performFly() - performQuack() Observer Pattern Maintains a list of dependents and notifies them of any state changes.\n# define a generic observer type class Observer(Protocol): def update(self, subject: Subject) -\u003e None: ... class Subject: def __init__(self) -\u003e None: self._observers: list[Observer] = [] def attach(self, observer: Observer) -\u003e None: if observer not in self._observers: self._observers.append(observer) def detach(self, observer: Observer) -\u003e None: with suppress(ValueError): self._observers.remove(observer) def notify(self, modifier: Observer | None = None) -\u003e None: for observer in self._observers: if modifier != observer: observer.update(self) Command Pattern Command pattern decouples the object invoking a job from the one who knows how to do it. As mentioned in the GoF book, a good example is in menu items. You have a menu that has lots of items. Each item is responsible for doing a special thing and you want your menu item just call the execute method when it is pressed. To achieve this you implement a command object with the execute method for each menu item and pass to it.\nclass HideFileCommand: def __init__(self) -\u003e None: self._hidden_files: List[str] = [] def execute(self, filename: str) -\u003e None: self._hidden_files.append(filename) def undo(self) -\u003e None: filename = self._hidden_files.pop() class DeleteFileCommand: def __init__(self) -\u003e None: self._deleted_files: List[str] = [] def execute(self, filename: str) -\u003e None: self._deleted_files.append(filename) def undo(self) -\u003e None: filename = self._deleted_files.pop() class MenuItem: def __init__(self, command: Union[HideFileCommand, DeleteFileCommand]) -\u003e None: self._command = command def on_do_press(self, filename: str) -\u003e None: self._command.execute(filename) def on_undo_press(self) -\u003e None: self._command.undo() item1 = MenuItem(DeleteFileCommand()) item2 = MenuItem(HideFileCommand()) test_file_name = 'test-file' item1.on_do_press(test_file_name) item1.on_undo_press() item2.on_do_press(test_file_name) item2.on_undo_press() Template Method Pattern Defines the skeleton of a base algorithm, deferring definition of exact steps to subclasses.\ndef template_function(getter, converter=False, to_save=False) -\u003e None: data = getter() print(f\"Got `{data}`\") if len(data) \u003c= 3 and converter: data = converter(data) else: print(\"Skip conversion\") if to_save: saver() print(f\"`{data}` was processed\") Iterator Pattern Provides a way to access the elements of an aggregate object sequentially without exposing its underlying representation.\ndef count_to(count: int): \"\"\"Counts by word numbers, up to a maximum of five\"\"\" numbers = [\"one\", \"two\", \"three\", \"four\", \"five\"] yield from numbers[:count] # Test the generator def count_to_five() -\u003e None: return count_to(5) State Pattern Allows an object to alter its behavior when its internal state changes. The object will appear to change its class.\nclass State: \"\"\"Base state. This is to share functionality\"\"\" def scan(self) -\u003e None: \"\"\"Scan the dial to the next station\"\"\" self.pos += 1 if self.pos == len(self.stations): self.pos = 0 print(f\"Scanning... Station is {self.stations[self.pos]} {self.name}\") class AmState(State): def __init__(self, radio: Radio) -\u003e None: self.radio = radio self.stations = [\"1250\", \"1380\", \"1510\"] self.pos = 0 self.name = \"AM\" def toggle_amfm(self) -\u003e None: print(\"Switching to FM\") self.radio.state = self.radio.fmstate class FmState(State): def __init__(self, radio: Radio) -\u003e None: self.radio = radio self.stations = [\"81.3\", \"89.1\", \"103.9\"] self.pos = 0 self.name = \"FM\" def toggle_amfm(self) -\u003e None: print(\"Switching to AM\") self.radio.state = self.radio.amstate class Radio: \"\"\"A radio. It has a scan button, and an AM/FM toggle switch.\"\"\" def __init__(self) -\u003e None: \"\"\"We have an AM state and an FM state\"\"\" self.amstate = AmState(self) self.fmstate = FmState(self) self.state = self.amstate def toggle_amfm(self) -\u003e None: self.state.toggle_amfm() def scan(self) -\u003e None: self.state.scan() Chain of Responsibility Pattern The Chain of responsibility is an object oriented version of the if ... elif ... elif ... else ... idiom, with the benefit that the condition‚Äìaction blocks can be dynamically rearranged and reconfigured at runtime.\nMediator Pattern Objects in a system communicate through a Mediator instead of directly with each other. This reduces the dependencies between communicating objects, thereby reducing coupling.\nMemento Pattern Provides the ability to restore an object to its previous state.\nVisitor Pattern Separates an algorithm from an object structure on which it operates.\nStructural Decorator Pattern The Decorator pattern is used to dynamically add a new feature to an object without changing its implementation. It differs from inheritance because the new feature is added only to that particular object, not to the entire subclass.\nClasses should be open for extension, but closed for modification. class TextTag: def __init__(self, text: str) -\u003e None: self._text = text def render(self) -\u003e str: return self._text class BoldWrapper(TextTag): def __init__(self, wrapped: TextTag) -\u003e None: self._wrapped = wrapped def render(self) -\u003e str: return f\"{self._wrapped.render()}\" class ItalicWrapper(TextTag): def __init__(self, wrapped: TextTag) -\u003e None: self._wrapped = wrapped def render(self) -\u003e str: return f\"{self._wrapped.render()}\" Adapter Pattern The Adapter pattern provides a different interface for a class. We can think about it as a cable adapter that allows you to charge a phone somewhere that has outlets in a different shape. Following this idea, the Adapter pattern is useful to integrate classes that couldn‚Äôt be integrated due to their incompatible interfaces.\nclass Adapter: \"\"\"Adapts an object by replacing methods. Usage ------ dog = Dog() dog = Adapter(dog, make_noise=dog.bark) \"\"\" def __init__(self, obj: T, **adapted_methods: Callable): \"\"\"We set the adapted methods in the object's dict.\"\"\" self.obj = obj self.__dict__.update(adapted_methods) def __getattr__(self, attr): \"\"\"All non-adapted calls are passed to the object.\"\"\" return getattr(self.obj, attr) def original_dict(self): \"\"\"Print original object dict.\"\"\" return self.obj.__dict__ Facade Pattern The Facade pattern is a way to provide a simpler unified interface to a more complex system. It provides an easier way to access functions of the underlying system by providing a single entry point.\nclass ComputerFacade: def __init__(self): self.cpu = CPU() self.memory = Memory() self.ssd = SolidStateDrive() def start(self): self.cpu.freeze() self.memory.load(\"0x00\", self.ssd.read(\"100\", \"1024\")) self.cpu.jump(\"0x00\") self.cpu.execute() Composite Pattern The composite pattern describes a group of objects that is treated the same way as a single instance of the same type of object. The intent of a composite is to ‚Äúcompose‚Äù objects into tree structures to represent part-whole hierarchies. Implementing the composite pattern lets clients treat individual objects and compositions uniformly.\nclass Graphic(ABC): @abstractmethod def render(self) -\u003e None: raise NotImplementedError(\"You should implement this!\") class CompositeGraphic(Graphic): def __init__(self) -\u003e None: self.graphics: List[Graphic] = [] def render(self) -\u003e None: for graphic in self.graphics: graphic.render() def add(self, graphic: Graphic) -\u003e None: self.graphics.append(graphic) def remove(self, graphic: Graphic) -\u003e None: self.graphics.remove(graphic) class Ellipse(Graphic): def __init__(self, name: str) -\u003e None: self.name = name def render(self) -\u003e None: print(f\"Ellipse: {self.name}\") ellipse1 = Ellipse(\"1\") ellipse2 = Ellipse(\"2\") graphic1 = CompositeGraphic() graphic2 = CompositeGraphic() graphic1.add(ellipse1) graphic1.add(ellipse2) # Here graphic = CompositeGraphic() graphic.add(graphic1) graphic.add(graphic2) graphic.render() Proxy Pattern Proxy is used in places where you want to add functionality to a class without changing its interface. The main class is called Real Subject. A client should use the proxy or the real subject without any code change, so both must have the same interface. Logging and controlling access to the real subject are some of the proxy pattern usages.\nclass Subject: \"\"\" As mentioned in the document, interfaces of both RealSubject and Proxy should be the same, because the client should be able to use RealSubject or Proxy with no code change. Not all times this interface is necessary. The point is the client should be able to use RealSubject or Proxy interchangeably with no change in code. \"\"\" def do_the_job(self, user: str) -\u003e None: raise NotImplementedError() class RealSubject(Subject): \"\"\" This is the main job doer. External services like payment gateways can be a good example. \"\"\" def do_the_job(self, user: str) -\u003e None: print(f\"I am doing the job for {user}\") class Proxy(Subject): def __init__(self) -\u003e None: self._real_subject = RealSubject() def do_the_job(self, user: str) -\u003e None: \"\"\" logging and controlling access are some examples of proxy usages. \"\"\" print(f\"[log] Doing the job for {user} is requested.\") if user == \"admin\": self._real_subject.do_the_job(user) else: print(\"[log] I can do the job just for `admins`.\") Model-View-Controller Pattern Separates data in GUIs from the ways it is presented, and accepted.\nBridge Pattern Decouples an abstraction from its implementation.\nFlyweight Pattern This pattern aims to minimise the number of objects that are needed by a program at run-time. A Flyweight is an object shared by multiple contexts, and is indistinguishable from an object that is not shared.\nCreational Factory Pattern A Factory is an object for creating other objects.\nDepend upon abstractions. Do not depend upon concrete classes. class GreekLocalizer: def __init__(self) -\u003e None: self.translations = {\"dog\": \"œÉŒ∫œçŒªŒøœÇ\", \"cat\": \"Œ≥Œ¨œÑŒ±\"} def localize(self, msg: str) -\u003e str: return self.translations.get(msg, msg) class EnglishLocalizer: def localize(self, msg: str) -\u003e str: return msg def get_localizer(language: str = \"English\") -\u003e object: localizers = { \"English\": EnglishLocalizer, \"Greek\": GreekLocalizer, } return localizers[language]() Abstract Factory Pattern In Java and other languages, the Abstract Factory Pattern serves to provide an interface for creating related/dependent objects without need to specify their actual class.\nclass PetShop: \"\"\"A pet shop\"\"\" def __init__(self, animal_factory: Type[Pet]) -\u003e None: \"\"\"pet_factory is our abstract factory. We can set it at will.\"\"\" self.pet_factory = animal_factory def buy_pet(self, name: str) -\u003e Pet: \"\"\"Creates and shows a pet using the abstract factory\"\"\" pet = self.pet_factory(name) print(f\"Here is your lovely {pet}\") return pet # Create a random animal def random_animal(name: str) -\u003e Pet: \"\"\"Let's be dynamic!\"\"\" return random.choice([Dog, Cat])(name) Singleton Pattern Ensure a class only has one instance, and provide a global point of access to it.\nIn python modules are only imported once. Just declare a variable there.\nBuilder Pattern It decouples the creation of a complex object and its representation, so that the same process can be reused to build objects from the same family. This is useful when you must separate the specification of an object from its actual representation (generally for abstraction).\nPrototype Pattern This patterns aims to reduce the number of classes required by an application. Instead of relying on subclasses it creates objects by copying a prototypical instance at run-time.\n","wordCount":"1620","inLanguage":"en","image":"https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?cs=srgb\u0026dl=pexels-picjumbocom-196644.jpg\u0026fm=jpg","datePublished":"2021-08-28T00:00:00Z","dateModified":"2021-08-28T00:00:00Z","author":{"@type":"Person","name":"Xiang Chen"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://xiang.es/posts/patterns/"},"publisher":{"@type":"Organization","name":"Just another developer","logo":{"@type":"ImageObject","url":"https://xiang.es/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://xiang.es/ accesskey=h title="Just another developer (Alt + H)">Just another developer</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://xiang.es/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://xiang.es/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://xiang.es/about/ title=About><span>About</span></a></li><li><a href=https://xiang.es/projects/ title=Projects><span>Projects</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>üìù Design Patterns notes</h1><div class=post-meta><span title='2021-08-28 00:00:00 +0000 UTC'>August 28, 2021</span>&nbsp;¬∑&nbsp;8 min&nbsp;¬∑&nbsp;Xiang Chen</div></header><figure class=entry-cover><img loading=lazy src="https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?cs=srgb&dl=pexels-picjumbocom-196644.jpg&fm=jpg" alt></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#behavioral aria-label=Behavioral>Behavioral</a><ul><li><a href=#strategy-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralstrategypy aria-label="Strategy Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/strategy.py>Strategy Pattern</a></a></li><li><a href=#observer-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralobserverpy aria-label="Observer Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/observer.py>Observer Pattern</a></a></li><li><a href=#command-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralcommandpy aria-label="Command Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/command.py>Command Pattern</a></a></li><li><a href=#template-method-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioraltemplatepy aria-label="Template Method Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/template.py>Template Method Pattern</a></a></li><li><a href=#iterator-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioraliteratorpy aria-label="Iterator Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/iterator.py>Iterator Pattern</a></a></li><li><a href=#state-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralstatepy aria-label="State Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/state.py>State Pattern</a></a></li><li><a href=#chain-of-responsibility-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralchain_of_responsibilitypy aria-label="Chain of Responsibility Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/chain_of_responsibility.py>Chain of Responsibility Pattern</a></a></li><li><a href=#mediator-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralmediatorpy aria-label="Mediator Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/mediator.py>Mediator Pattern</a></a></li><li><a href=#memento-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralmementopy aria-label="Memento Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/memento.py>Memento Pattern</a></a></li><li><a href=#visitor-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralvisitorpy aria-label="Visitor Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/visitor.py>Visitor Pattern</a></a></li></ul></li><li><a href=#structural aria-label=Structural>Structural</a><ul><li><a href=#decorator-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuraldecoratorpy aria-label="Decorator Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/decorator.py>Decorator Pattern</a></a></li><li><a href=#adapter-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuraladapterpy aria-label="Adapter Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/adapter.py>Adapter Pattern</a></a></li><li><a href=#facade-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralfacadepy aria-label="Facade Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/facade.py>Facade Pattern</a></a></li><li><a href=#composite-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralcompositepy aria-label="Composite Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/composite.py>Composite Pattern</a></a></li><li><a href=#proxy-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralproxypy aria-label="Proxy Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/proxy.py>Proxy Pattern</a></a></li><li><a href=#model-view-controller-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralmvcpy aria-label="Model-View-Controller Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/mvc.py>Model-View-Controller Pattern</a></a></li><li><a href=#bridge-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralbridgepy aria-label="Bridge Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/bridge.py>Bridge Pattern</a></a></li><li><a href=#flyweight-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralflyweightpy aria-label="Flyweight Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/flyweight.py>Flyweight Pattern</a></a></li></ul></li><li><a href=#creational aria-label=Creational>Creational</a><ul><li><a href=#factory-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalfactorypy aria-label="Factory Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/creational/factory.py>Factory Pattern</a></a></li><li><a href=#abstract-factory-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalabstract_factorypy aria-label="Abstract Factory Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/creational/abstract_factory.py>Abstract Factory Pattern</a></a></li><li><a href=#singleton-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalborgpy aria-label="Singleton Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/creational/borg.py>Singleton Pattern</a></a></li><li><a href=#builder-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalbuilderpy aria-label="Builder Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/creational/builder.py>Builder Pattern</a></a></li><li><a href=#prototype-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalprototypepy aria-label="Prototype Pattern"><a href=https://github.com/faif/python-patterns/blob/master/patterns/creational/prototype.py>Prototype Pattern</a></a></li></ul></li></ul></div></details></div><div class=post-content><p>Some notes about design patterns</p><h2 id=behavioral>Behavioral<a hidden class=anchor aria-hidden=true href=#behavioral>#</a></h2><h3 id=strategy-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralstrategypy><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/strategy.py>Strategy Pattern</a><a hidden class=anchor aria-hidden=true href=#strategy-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralstrategypy>#</a></h3><blockquote><p>Define a family of algorithms, encapsulate each one, and make them interchangeable.
Strategy lets the algorithm vary independently from clients that use it.</p></blockquote><ul><li>HAS-A can be better than IS-A</li></ul><pre tabindex=0><code>Duck
    - flyBehavior  # classes or functions
    - quackBehavior  # classes or functions
    - swim()
    - display()
    - performFly()
    - performQuack()
</code></pre><h3 id=observer-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralobserverpy><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/observer.py>Observer Pattern</a><a hidden class=anchor aria-hidden=true href=#observer-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralobserverpy>#</a></h3><blockquote><p>Maintains a list of dependents and notifies them of any state changes.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># define a generic observer type</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Observer</span>(Protocol):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>update</span>(self, subject: Subject) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Subject</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_observers: list[Observer] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>attach</span>(self, observer: Observer) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> observer <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>_observers:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>_observers<span style=color:#f92672>.</span>append(observer)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>detach</span>(self, observer: Observer) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> suppress(<span style=color:#a6e22e>ValueError</span>):
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>_observers<span style=color:#f92672>.</span>remove(observer)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>notify</span>(self, modifier: Observer <span style=color:#f92672>|</span> <span style=color:#66d9ef>None</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> observer <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>_observers:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> modifier <span style=color:#f92672>!=</span> observer:
</span></span><span style=display:flex><span>                observer<span style=color:#f92672>.</span>update(self)
</span></span></code></pre></div><h3 id=command-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralcommandpy><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/command.py>Command Pattern</a><a hidden class=anchor aria-hidden=true href=#command-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralcommandpy>#</a></h3><blockquote><p>Command pattern decouples the object invoking a job from the one who knows
how to do it. As mentioned in the GoF book, a good example is in menu items.
You have a menu that has lots of items. Each item is responsible for doing a
special thing and you want your menu item just call the execute method when
it is pressed. To achieve this you implement a command object with the execute
method for each menu item and pass to it.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HideFileCommand</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_hidden_files: List[str] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>execute</span>(self, filename: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_hidden_files<span style=color:#f92672>.</span>append(filename)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>undo</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        filename <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>_hidden_files<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DeleteFileCommand</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_deleted_files: List[str] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>execute</span>(self, filename: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_deleted_files<span style=color:#f92672>.</span>append(filename)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>undo</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        filename <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>_deleted_files<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MenuItem</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, command: Union[HideFileCommand, DeleteFileCommand]) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_command <span style=color:#f92672>=</span> command
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_do_press</span>(self, filename: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_command<span style=color:#f92672>.</span>execute(filename)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_undo_press</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_command<span style=color:#f92672>.</span>undo()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>item1 <span style=color:#f92672>=</span> MenuItem(DeleteFileCommand())
</span></span><span style=display:flex><span>item2 <span style=color:#f92672>=</span> MenuItem(HideFileCommand())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>test_file_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;test-file&#39;</span>
</span></span><span style=display:flex><span>item1<span style=color:#f92672>.</span>on_do_press(test_file_name)
</span></span><span style=display:flex><span>item1<span style=color:#f92672>.</span>on_undo_press()
</span></span><span style=display:flex><span>item2<span style=color:#f92672>.</span>on_do_press(test_file_name)
</span></span><span style=display:flex><span>item2<span style=color:#f92672>.</span>on_undo_press()
</span></span></code></pre></div><h3 id=template-method-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioraltemplatepy><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/template.py>Template Method Pattern</a><a hidden class=anchor aria-hidden=true href=#template-method-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioraltemplatepy>#</a></h3><blockquote><p>Defines the skeleton of a base algorithm, deferring definition of exact
steps to subclasses.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>template_function</span>(getter, converter<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>, to_save<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>    data <span style=color:#f92672>=</span> getter()
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Got `</span><span style=color:#e6db74>{</span>data<span style=color:#e6db74>}</span><span style=color:#e6db74>`&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> len(data) <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>and</span> converter:
</span></span><span style=display:flex><span>        data <span style=color:#f92672>=</span> converter(data)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Skip conversion&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> to_save:
</span></span><span style=display:flex><span>        saver()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;`</span><span style=color:#e6db74>{</span>data<span style=color:#e6db74>}</span><span style=color:#e6db74>` was processed&#34;</span>)
</span></span></code></pre></div><h3 id=iterator-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioraliteratorpy><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/iterator.py>Iterator Pattern</a><a hidden class=anchor aria-hidden=true href=#iterator-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioraliteratorpy>#</a></h3><blockquote><p>Provides a way to access the elements of an aggregate object
sequentially without exposing its underlying representation.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>count_to</span>(count: int):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Counts by word numbers, up to a maximum of five&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    numbers <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;one&#34;</span>, <span style=color:#e6db74>&#34;two&#34;</span>, <span style=color:#e6db74>&#34;three&#34;</span>, <span style=color:#e6db74>&#34;four&#34;</span>, <span style=color:#e6db74>&#34;five&#34;</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>yield from</span> numbers[:count]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Test the generator</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>count_to_five</span>() <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> count_to(<span style=color:#ae81ff>5</span>)
</span></span></code></pre></div><h3 id=state-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralstatepy><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/state.py>State Pattern</a><a hidden class=anchor aria-hidden=true href=#state-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralstatepy>#</a></h3><blockquote><p>Allows an object to alter its behavior
when its internal state changes. The object will appear to
change its class.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>State</span>:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Base state. This is to share functionality&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>scan</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;Scan the dial to the next station&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>pos <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>pos <span style=color:#f92672>==</span> len(self<span style=color:#f92672>.</span>stations):
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>pos <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Scanning... Station is </span><span style=color:#e6db74>{</span>self<span style=color:#f92672>.</span>stations[self<span style=color:#f92672>.</span>pos]<span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>{</span>self<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AmState</span>(State):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, radio: Radio) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>radio <span style=color:#f92672>=</span> radio
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>stations <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;1250&#34;</span>, <span style=color:#e6db74>&#34;1380&#34;</span>, <span style=color:#e6db74>&#34;1510&#34;</span>]
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>pos <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;AM&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>toggle_amfm</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Switching to FM&#34;</span>)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>radio<span style=color:#f92672>.</span>state <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>radio<span style=color:#f92672>.</span>fmstate
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FmState</span>(State):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, radio: Radio) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>radio <span style=color:#f92672>=</span> radio
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>stations <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;81.3&#34;</span>, <span style=color:#e6db74>&#34;89.1&#34;</span>, <span style=color:#e6db74>&#34;103.9&#34;</span>]
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>pos <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;FM&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>toggle_amfm</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Switching to AM&#34;</span>)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>radio<span style=color:#f92672>.</span>state <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>radio<span style=color:#f92672>.</span>amstate
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Radio</span>:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;A radio. It has a scan button, and an AM/FM toggle switch.&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;We have an AM state and an FM state&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>amstate <span style=color:#f92672>=</span> AmState(self)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>fmstate <span style=color:#f92672>=</span> FmState(self)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>state <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>amstate
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>toggle_amfm</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>state<span style=color:#f92672>.</span>toggle_amfm()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>scan</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>state<span style=color:#f92672>.</span>scan()
</span></span></code></pre></div><h3 id=chain-of-responsibility-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralchain_of_responsibilitypy><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/chain_of_responsibility.py>Chain of Responsibility Pattern</a><a hidden class=anchor aria-hidden=true href=#chain-of-responsibility-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralchain_of_responsibilitypy>#</a></h3><blockquote><p>The Chain of responsibility is an object oriented version of the
<code>if ... elif ... elif ... else ...</code> idiom, with the
benefit that the condition‚Äìaction blocks can be dynamically rearranged
and reconfigured at runtime.</p></blockquote><h3 id=mediator-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralmediatorpy><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/mediator.py>Mediator Pattern</a><a hidden class=anchor aria-hidden=true href=#mediator-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralmediatorpy>#</a></h3><blockquote><p>Objects in a system communicate through a Mediator instead of directly with each other.
This reduces the dependencies between communicating objects, thereby reducing coupling.</p></blockquote><h3 id=memento-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralmementopy><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/memento.py>Memento Pattern</a><a hidden class=anchor aria-hidden=true href=#memento-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralmementopy>#</a></h3><blockquote><p>Provides the ability to restore an object to its previous state.</p></blockquote><h3 id=visitor-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralvisitorpy><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/visitor.py>Visitor Pattern</a><a hidden class=anchor aria-hidden=true href=#visitor-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsbehavioralvisitorpy>#</a></h3><blockquote><p>Separates an algorithm from an object structure on which it operates.</p></blockquote><h2 id=structural>Structural<a hidden class=anchor aria-hidden=true href=#structural>#</a></h2><h3 id=decorator-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuraldecoratorpy><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/decorator.py>Decorator Pattern</a><a hidden class=anchor aria-hidden=true href=#decorator-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuraldecoratorpy>#</a></h3><blockquote><p>The Decorator pattern is used to dynamically add a new feature to an
object without changing its implementation. It differs from
inheritance because the new feature is added only to that particular
object, not to the entire subclass.</p></blockquote><ul><li>Classes should be open for extension, but closed for modification.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TextTag</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, text: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_text <span style=color:#f92672>=</span> text
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>render</span>(self) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>_text
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>BoldWrapper</span>(TextTag):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, wrapped: TextTag) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_wrapped <span style=color:#f92672>=</span> wrapped
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>render</span>(self) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;b&gt;</span><span style=color:#e6db74>{</span>self<span style=color:#f92672>.</span>_wrapped<span style=color:#f92672>.</span>render()<span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/b&gt;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ItalicWrapper</span>(TextTag):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, wrapped: TextTag) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_wrapped <span style=color:#f92672>=</span> wrapped
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>render</span>(self) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;&lt;i&gt;</span><span style=color:#e6db74>{</span>self<span style=color:#f92672>.</span>_wrapped<span style=color:#f92672>.</span>render()<span style=color:#e6db74>}</span><span style=color:#e6db74>&lt;/i&gt;&#34;</span>
</span></span></code></pre></div><h3 id=adapter-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuraladapterpy><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/adapter.py>Adapter Pattern</a><a hidden class=anchor aria-hidden=true href=#adapter-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuraladapterpy>#</a></h3><blockquote><p>The Adapter pattern provides a different interface for a class. We can
think about it as a cable adapter that allows you to charge a phone
somewhere that has outlets in a different shape. Following this idea,
the Adapter pattern is useful to integrate classes that couldn&rsquo;t be
integrated due to their incompatible interfaces.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Adapter</span>:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Adapts an object by replacing methods.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Usage
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    ------
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    dog = Dog()
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    dog = Adapter(dog, make_noise=dog.bark)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, obj: T, <span style=color:#f92672>**</span>adapted_methods: Callable):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;We set the adapted methods in the object&#39;s dict.&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>obj <span style=color:#f92672>=</span> obj
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>__dict__<span style=color:#f92672>.</span>update(adapted_methods)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __getattr__(self, attr):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;All non-adapted calls are passed to the object.&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> getattr(self<span style=color:#f92672>.</span>obj, attr)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>original_dict</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;Print original object dict.&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>obj<span style=color:#f92672>.</span>__dict__
</span></span></code></pre></div><h3 id=facade-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralfacadepy><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/facade.py>Facade Pattern</a><a hidden class=anchor aria-hidden=true href=#facade-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralfacadepy>#</a></h3><blockquote><p>The Facade pattern is a way to provide a simpler unified interface to
a more complex system. It provides an easier way to access functions
of the underlying system by providing a single entry point.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ComputerFacade</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>cpu <span style=color:#f92672>=</span> CPU()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>memory <span style=color:#f92672>=</span> Memory()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>ssd <span style=color:#f92672>=</span> SolidStateDrive()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>start</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>cpu<span style=color:#f92672>.</span>freeze()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>memory<span style=color:#f92672>.</span>load(<span style=color:#e6db74>&#34;0x00&#34;</span>, self<span style=color:#f92672>.</span>ssd<span style=color:#f92672>.</span>read(<span style=color:#e6db74>&#34;100&#34;</span>, <span style=color:#e6db74>&#34;1024&#34;</span>))
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>cpu<span style=color:#f92672>.</span>jump(<span style=color:#e6db74>&#34;0x00&#34;</span>)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>cpu<span style=color:#f92672>.</span>execute()
</span></span></code></pre></div><h3 id=composite-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralcompositepy><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/composite.py>Composite Pattern</a><a hidden class=anchor aria-hidden=true href=#composite-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralcompositepy>#</a></h3><blockquote><p>The composite pattern describes a group of objects that is treated the
same way as a single instance of the same type of object. The intent of
a composite is to &ldquo;compose&rdquo; objects into tree structures to represent
part-whole hierarchies. Implementing the composite pattern lets clients
treat individual objects and compositions uniformly.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Graphic</span>(ABC):
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>render</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>NotImplementedError</span>(<span style=color:#e6db74>&#34;You should implement this!&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CompositeGraphic</span>(Graphic):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>graphics: List[Graphic] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>render</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> graphic <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>graphics:
</span></span><span style=display:flex><span>            graphic<span style=color:#f92672>.</span>render()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>add</span>(self, graphic: Graphic) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>graphics<span style=color:#f92672>.</span>append(graphic)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>remove</span>(self, graphic: Graphic) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>graphics<span style=color:#f92672>.</span>remove(graphic)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Ellipse</span>(Graphic):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, name: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> name
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>render</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Ellipse: </span><span style=color:#e6db74>{</span>self<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ellipse1 <span style=color:#f92672>=</span> Ellipse(<span style=color:#e6db74>&#34;1&#34;</span>)
</span></span><span style=display:flex><span>ellipse2 <span style=color:#f92672>=</span> Ellipse(<span style=color:#e6db74>&#34;2&#34;</span>)
</span></span><span style=display:flex><span>graphic1 <span style=color:#f92672>=</span> CompositeGraphic()
</span></span><span style=display:flex><span>graphic2 <span style=color:#f92672>=</span> CompositeGraphic()
</span></span><span style=display:flex><span>graphic1<span style=color:#f92672>.</span>add(ellipse1)
</span></span><span style=display:flex><span>graphic1<span style=color:#f92672>.</span>add(ellipse2)
</span></span><span style=display:flex><span><span style=color:#75715e># Here</span>
</span></span><span style=display:flex><span>graphic <span style=color:#f92672>=</span> CompositeGraphic()
</span></span><span style=display:flex><span>graphic<span style=color:#f92672>.</span>add(graphic1)
</span></span><span style=display:flex><span>graphic<span style=color:#f92672>.</span>add(graphic2)
</span></span><span style=display:flex><span>graphic<span style=color:#f92672>.</span>render()
</span></span></code></pre></div><h3 id=proxy-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralproxypy><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/proxy.py>Proxy Pattern</a><a hidden class=anchor aria-hidden=true href=#proxy-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralproxypy>#</a></h3><blockquote><p>Proxy is used in places where you want to add functionality to a class without
changing its interface. The main class is called <code>Real Subject</code>. A client should
use the proxy or the real subject without any code change, so both must have the
same interface. Logging and controlling access to the real subject are some of
the proxy pattern usages.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Subject</span>:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    As mentioned in the document, interfaces of both RealSubject and Proxy should
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    be the same, because the client should be able to use RealSubject or Proxy with
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    no code change.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    Not all times this interface is necessary. The point is the client should be
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    able to use RealSubject or Proxy interchangeably with no change in code.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>do_the_job</span>(self, user: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>NotImplementedError</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>RealSubject</span>(Subject):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    This is the main job doer. External services like payment gateways can be a
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    good example.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>do_the_job</span>(self, user: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;I am doing the job for </span><span style=color:#e6db74>{</span>user<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Proxy</span>(Subject):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_real_subject <span style=color:#f92672>=</span> RealSubject()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>do_the_job</span>(self, user: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        logging and controlling access are some examples of proxy usages.
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;[log] Doing the job for </span><span style=color:#e6db74>{</span>user<span style=color:#e6db74>}</span><span style=color:#e6db74> is requested.&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> user <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;admin&#34;</span>:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>_real_subject<span style=color:#f92672>.</span>do_the_job(user)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;[log] I can do the job just for `admins`.&#34;</span>)
</span></span></code></pre></div><h3 id=model-view-controller-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralmvcpy><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/mvc.py>Model-View-Controller Pattern</a><a hidden class=anchor aria-hidden=true href=#model-view-controller-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralmvcpy>#</a></h3><blockquote><p>Separates data in GUIs from the ways it is presented, and accepted.</p></blockquote><h3 id=bridge-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralbridgepy><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/bridge.py>Bridge Pattern</a><a hidden class=anchor aria-hidden=true href=#bridge-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralbridgepy>#</a></h3><blockquote><p>Decouples an abstraction from its implementation.</p></blockquote><h3 id=flyweight-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralflyweightpy><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/flyweight.py>Flyweight Pattern</a><a hidden class=anchor aria-hidden=true href=#flyweight-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralflyweightpy>#</a></h3><blockquote><p>This pattern aims to minimise the number of objects that are needed by
a program at run-time. A Flyweight is an object shared by multiple
contexts, and is indistinguishable from an object that is not shared.</p></blockquote><h2 id=creational>Creational<a hidden class=anchor aria-hidden=true href=#creational>#</a></h2><h3 id=factory-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalfactorypy><a href=https://github.com/faif/python-patterns/blob/master/patterns/creational/factory.py>Factory Pattern</a><a hidden class=anchor aria-hidden=true href=#factory-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalfactorypy>#</a></h3><blockquote><p>A Factory is an object for creating other objects.</p></blockquote><ul><li>Depend upon abstractions. Do not depend upon concrete classes.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>GreekLocalizer</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>translations <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;dog&#34;</span>: <span style=color:#e6db74>&#34;œÉŒ∫œçŒªŒøœÇ&#34;</span>, <span style=color:#e6db74>&#34;cat&#34;</span>: <span style=color:#e6db74>&#34;Œ≥Œ¨œÑŒ±&#34;</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>localize</span>(self, msg: str) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>translations<span style=color:#f92672>.</span>get(msg, msg)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>EnglishLocalizer</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>localize</span>(self, msg: str) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> msg
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_localizer</span>(language: str <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;English&#34;</span>) <span style=color:#f92672>-&gt;</span> object:
</span></span><span style=display:flex><span>    localizers <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;English&#34;</span>: EnglishLocalizer,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;Greek&#34;</span>: GreekLocalizer,
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> localizers[language]()
</span></span></code></pre></div><h3 id=abstract-factory-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalabstract_factorypy><a href=https://github.com/faif/python-patterns/blob/master/patterns/creational/abstract_factory.py>Abstract Factory Pattern</a><a hidden class=anchor aria-hidden=true href=#abstract-factory-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalabstract_factorypy>#</a></h3><blockquote><p>In Java and other languages, the Abstract Factory Pattern serves to provide an interface for
creating related/dependent objects without need to specify their
actual class.</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PetShop</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;A pet shop&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, animal_factory: Type[Pet]) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;pet_factory is our abstract factory.  We can set it at will.&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>pet_factory <span style=color:#f92672>=</span> animal_factory
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>buy_pet</span>(self, name: str) <span style=color:#f92672>-&gt;</span> Pet:
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;Creates and shows a pet using the abstract factory&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        pet <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>pet_factory(name)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Here is your lovely </span><span style=color:#e6db74>{</span>pet<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> pet
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Create a random animal</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>random_animal</span>(name: str) <span style=color:#f92672>-&gt;</span> Pet:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Let&#39;s be dynamic!&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> random<span style=color:#f92672>.</span>choice([Dog, Cat])(name)
</span></span></code></pre></div><h3 id=singleton-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalborgpy><a href=https://github.com/faif/python-patterns/blob/master/patterns/creational/borg.py>Singleton Pattern</a><a hidden class=anchor aria-hidden=true href=#singleton-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalborgpy>#</a></h3><blockquote><p>Ensure a class only has one instance, and provide a global point of access to it.</p></blockquote><p>In python modules are only imported once. Just declare a variable there.</p><h3 id=builder-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalbuilderpy><a href=https://github.com/faif/python-patterns/blob/master/patterns/creational/builder.py>Builder Pattern</a><a hidden class=anchor aria-hidden=true href=#builder-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalbuilderpy>#</a></h3><blockquote><p>It decouples the creation of a complex object and its representation,
so that the same process can be reused to build objects from the same
family.
This is useful when you must separate the specification of an object
from its actual representation (generally for abstraction).</p></blockquote><h3 id=prototype-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalprototypepy><a href=https://github.com/faif/python-patterns/blob/master/patterns/creational/prototype.py>Prototype Pattern</a><a hidden class=anchor aria-hidden=true href=#prototype-patternhttpsgithubcomfaifpython-patternsblobmasterpatternscreationalprototypepy>#</a></h3><blockquote><p>This patterns aims to reduce the number of classes required by an
application. Instead of relying on subclasses it creates objects by
copying a prototypical instance at run-time.</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://xiang.es/tags/software-engineering/>Software Engineering</a></li><li><a href=https://xiang.es/tags/programming/>Programming</a></li><li><a href=https://xiang.es/tags/python/>Python</a></li></ul><nav class=paginav><a class=prev href=https://xiang.es/posts/ddd/><span class=title>¬´ Prev</span><br><span>üìù Domain Driven Design notes</span></a>
<a class=next href=https://xiang.es/posts/system-design/><span class=title>Next ¬ª</span><br><span>üìù System Design notes</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on twitter" href="https://twitter.com/intent/tweet/?text=%f0%9f%93%9d%20Design%20Patterns%20notes&url=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f&hashtags=SoftwareEngineering%2cProgramming%2cPython"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f&title=%f0%9f%93%9d%20Design%20Patterns%20notes&summary=%f0%9f%93%9d%20Design%20Patterns%20notes&source=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f&title=%f0%9f%93%9d%20Design%20Patterns%20notes"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on whatsapp" href="https://api.whatsapp.com/send?text=%f0%9f%93%9d%20Design%20Patterns%20notes%20-%20https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on telegram" href="https://telegram.me/share/url?text=%f0%9f%93%9d%20Design%20Patterns%20notes&url=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//stradivari96.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://xiang.es/>Just another developer</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>