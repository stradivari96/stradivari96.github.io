<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>üìù Design Patterns notes | Just another developer</title>
<meta name=keywords content="Software Engineering,Python"><meta name=description content="Some notes about design patterns"><meta name=author content="Xiang Chen"><link rel=canonical href=https://xiang.es/posts/patterns/><link crossorigin=anonymous href=/assets/css/stylesheet.0c4fd3725171366f335155acde6fb3c7b7042cd2fd075bebf5023d9b28a701b2.css integrity="sha256-DE/TclFxNm8zUVWs3m+zx7cELNL9B1vr9QI9myinAbI=" rel="preload stylesheet" as=style><link rel=icon href=https://xiang.es/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://xiang.es/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://xiang.es/favicon-32x32.png><link rel=apple-touch-icon href=https://xiang.es/apple-touch-icon.png><link rel=mask-icon href=https://xiang.es/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://xiang.es/posts/patterns/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="üìù Design Patterns notes"><meta property="og:description" content="Some notes about design patterns"><meta property="og:type" content="article"><meta property="og:url" content="https://xiang.es/posts/patterns/"><meta property="og:image" content="https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?cs=srgb&amp;dl=pexels-picjumbocom-196644.jpg&amp;fm=jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-08-28T00:00:00+00:00"><meta property="article:modified_time" content="2021-08-28T00:00:00+00:00"><meta property="og:site_name" content="Just another developer"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?cs=srgb&amp;dl=pexels-picjumbocom-196644.jpg&amp;fm=jpg"><meta name=twitter:title content="üìù Design Patterns notes"><meta name=twitter:description content="Some notes about design patterns"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://xiang.es/posts/"},{"@type":"ListItem","position":2,"name":"üìù Design Patterns notes","item":"https://xiang.es/posts/patterns/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"üìù Design Patterns notes","name":"üìù Design Patterns notes","description":"Some notes about design patterns\n","keywords":["Software Engineering","Python"],"articleBody":"Some notes about design patterns\nInfo\nDo NOT use design patterns just because you can.\nUse them when they make sense, they should emerge naturally from the problem.\nIn some languages, they might be considered anti-patterns.\nReferences https://python-patterns.guide/ https://refactoring.guru/design-patterns/catalog https://www.oreilly.com/library/view/head-first-design/9781492077992/ https://github.com/faif/python-patterns Behavioral ‚≠êStrategy Pattern Define a family of algorithms, encapsulate each one, and make them interchangeable.\nEnables algorithm at runtime, hide implementation details, easy to add new strategies.\nExample from typing import Protocol class Order: def __init__( self, price: float, discount_strategy: \"DiscountStrategy\" = None, ): self.price = price self.discount_strategy = discount_strategy def apply_discount(self) -\u003e float: if self.discount_strategy: discount = self.discount_strategy(self) else: discount = 0 return self.price - discount class DiscountStrategy(Protocol): def __call__(self, order: Order) -\u003e float: ... def ten_percent_discount(order: Order) -\u003e float: return order.price * 0.1 def on_sale_discount(order: Order) -\u003e float: return order.price * 0.25 + 20 if __name__ == \"__main__\": order = Order(100, discount_strategy=ten_percent_discount) print(order.apply_discount()) order = Order(100, discount_strategy=on_sale_discount) print(order.apply_discount()) ‚≠êObserver Pattern Maintains a list of dependents and notifies them of any state changes.\nDjango signals / Flask signals\nExample class Observer(Protocol): def update(self, subject: \"Subject\") -\u003e None: ... class Subject: def __init__(self) -\u003e None: self._observers: list[Observer] = [] def attach(self, observer: Observer) -\u003e None: if observer not in self._observers: self._observers.append(observer) def detach(self, observer: Observer) -\u003e None: with suppress(ValueError): self._observers.remove(observer) def notify(self, modifier: Observer | None = None) -\u003e None: for observer in self._observers: if modifier != observer: observer.update(self) class Data(Subject): def __init__(self, name: str = \"\") -\u003e None: super().__init__() self.name = name self._data = 0 @property def data(self) -\u003e int: return self._data @data.setter def data(self, value: int) -\u003e None: self._data = value self.notify() class HexViewer: def update(self, subject: Data) -\u003e None: print(f\"HexViewer: Subject {subject.name} has data 0x{subject.data:x}\") class DecimalViewer: def update(self, subject: Data) -\u003e None: print(f\"DecimalViewer: Subject {subject.name} has data {subject.data}\") if __name__ == \"__main__\": data1 = Data(\"Data 1\") view1 = DecimalViewer() view2 = HexViewer() data1.attach(view1) data1.attach(view2) data1.data = 10 ‚≠êCommand Pattern Object oriented implementation of callback functions.\nExample from typing import Protocol class HideFileCommand: def __init__(self) -\u003e None: self._hidden_files: list[str] = [] def execute(self, filename: str) -\u003e None: print(f\"hiding {filename}\") self._hidden_files.append(filename) def undo(self) -\u003e None: filename = self._hidden_files.pop() print(f\"un-hiding {filename}\") class DeleteFileCommand: def __init__(self) -\u003e None: self._deleted_files: list[str] = [] def execute(self, filename: str) -\u003e None: print(f\"deleting {filename}\") self._deleted_files.append(filename) def undo(self) -\u003e None: filename = self._deleted_files.pop() print(f\"restoring {filename}\") class Command(Protocol): def execute(self, filename: str) -\u003e None: ... def undo(self) -\u003e None: ... class MenuItem: def __init__(self, command: Command) -\u003e None: self._command = command def on_do_press(self, filename: str) -\u003e None: self._command.execute(filename) def on_undo_press(self) -\u003e None: self._command.undo() if __name__ == \"__main__\": item1 = MenuItem(DeleteFileCommand()) item2 = MenuItem(HideFileCommand()) test_file_name = \"test-file\" item1.on_do_press(test_file_name) item1.on_undo_press() item2.on_do_press(test_file_name) item2.on_undo_press() ‚≠êIterator Pattern Provides a way to access the elements of an aggregate object sequentially without exposing its underlying representation.\nExample def count_to(count: int): \"\"\"Counts by word numbers, up to a maximum of five\"\"\" numbers = [\"one\", \"two\", \"three\", \"four\", \"five\"] yield from numbers[:count] def count_to_five() -\u003e None: return count_to(5) for number in count_to_five(): print(number) Template Method Pattern Skeleton of a base algorithm, definition of exact steps in subclasses.\nDjango Class Based Views\nExample def template_function(getter, converter=None, to_save=False) -\u003e None: data = getter() print(f\"Got `{data}`\") if len(data) \u003c= 3 and converter: data = converter(data) else: print(\"Skip conversion\") if to_save: saver() print(f\"`{data}` was processed\") State Pattern Lets an object alter its behavior when its internal state changes.\nExample class State: def scan(self) -\u003e None: self.pos += 1 if self.pos == len(self.stations): self.pos = 0 print(f\"Scanning... Station is {self.stations[self.pos]} {self.name}\") class AmState(State): def __init__(self, radio: Radio) -\u003e None: self.radio = radio self.stations = [\"1250\", \"1380\", \"1510\"] self.pos = 0 self.name = \"AM\" def toggle_amfm(self) -\u003e None: print(\"Switching to FM\") self.radio.state = self.radio.fmstate class FmState(State): def __init__(self, radio: Radio) -\u003e None: self.radio = radio self.stations = [\"81.3\", \"89.1\", \"103.9\"] self.pos = 0 self.name = \"FM\" def toggle_amfm(self) -\u003e None: print(\"Switching to AM\") self.radio.state = self.radio.amstate class Radio: def __init__(self) -\u003e None: \"\"\"We have an AM state and an FM state\"\"\" self.amstate = AmState(self) self.fmstate = FmState(self) self.state = self.amstate def toggle_amfm(self) -\u003e None: self.state.toggle_amfm() def scan(self) -\u003e None: self.state.scan() Chain of Responsibility Pattern Allow a request to pass down a chain of receivers until it is handled. Faif Mediator Pattern Encapsulates how a set of objects interact. Faif Memento Pattern Provides the ability to restore an object to its previous state. Faif Visitor Pattern Separates an algorithm from an object structure on which it operates. Faif Structural ‚≠êAdapter Pattern Allows the interface of an existing class to be used as another interface.\nExample T = TypeVar(\"T\") class Adapter: def __init__(self, obj: T, **adapted_methods: Callable): \"\"\"We set the adapted methods in the object's dict.\"\"\" self.obj = obj self.__dict__.update(adapted_methods) def __getattr__(self, attr): \"\"\"All non-adapted calls are passed to the object.\"\"\" return getattr(self.obj, attr) def original_dict(self): \"\"\"Print original object dict.\"\"\" return self.obj.__dict__ cat = Cat() objects.append(Adapter(cat, make_noise=cat.meow)) human = Human() objects.append(Adapter(human, make_noise=human.speak)) car = Car() objects.append(Adapter(car, make_noise=lambda: car.make_noise(3))) for obj in objects: print(\"A {0} goes {1}\".format(obj.name, obj.make_noise())) ‚≠êModel-View-Controller Pattern Separates data in GUIs from the ways it is presented, and accepted. Decorator Pattern Adds behaviour to object without affecting its class. Faif Facade Pattern Provides a simpler unified interface to a complex system. Faif Composite Pattern Describes a group of objects that is treated as a single instance. Faif Proxy Pattern Add functionality or logic to a resource without changing its interface. Faif Bridge Pattern Decouples an abstraction from its implementation. Faif Flyweight Pattern Minimizes memory usage by sharing data with other similar objects. Faif Creational ‚≠êFactory Pattern Object for creating other objects without having to specify the exact class.\nExample (Real Python) class SongSerializer: def serialize(self, song, format): serializer = get_serializer(format) return serializer(song) def get_serializer(format): if format == 'JSON': return _serialize_to_json elif format == 'XML': return _serialize_to_xml else: raise ValueError(format) def _serialize_to_json(song): payload = { 'id': song.song_id, 'title': song.title, 'artist': song.artist } return json.dumps(payload) def _serialize_to_xml(song): song_element = et.Element('song', attrib={'id': song.song_id}) title = et.SubElement(song_element, 'title') title.text = song.title artist = et.SubElement(song_element, 'artist') artist.text = song.artist return et.tostring(song_element, encoding='unicode') Example (Faif) class GreekLocalizer: def __init__(self) -\u003e None: self.translations = {\"dog\": \"œÉŒ∫œçŒªŒøœÇ\", \"cat\": \"Œ≥Œ¨œÑŒ±\"} def localize(self, msg: str) -\u003e str: return self.translations.get(msg, msg) class EnglishLocalizer: def localize(self, msg: str) -\u003e str: return msg def get_localizer(language: str = \"English\") -\u003e object: localizers = { \"English\": EnglishLocalizer, \"Greek\": GreekLocalizer, } return localizers[language]() e, g = get_localizer(language=\"English\"), get_localizer(language=\"Greek\") for msg in [\"dog\", \"parrot\", \"cat\", \"bear\"]: print(e.localize(msg), g.localize(msg)) ‚≠êAbstract Factory Pattern Provides a way to encapsulate a group of individual factories.\nExample class PetShop: def __init__(self, animal_factory: Type[Pet]) -\u003e None: self.pet_factory = animal_factory def buy_pet(self, name: str) -\u003e Pet: pet = self.pet_factory(name) print(f\"Here is your lovely {pet}\") return pet # Create a random animal def random_animal(name: str) -\u003e Pet: \"\"\"Let's be dynamic!\"\"\" return random.choice([Dog, Cat])(name) cat_shop = PetShop(Cat) pet = cat_shop.buy_pet(\"Lucy\") shop = PetShop(random_animal) pet = shop.buy_pet(\"Max\") ‚≠êBuilder Pattern Decouples the creation of a complex object and its representation.\nExample class Building: def __init__(self) -\u003e None: self.build_floor() self.build_size() def build_floor(self): raise NotImplementedError def build_size(self): raise NotImplementedError # Concrete Buildings class House(Building): def build_floor(self) -\u003e None: self.floor = \"One\" def build_size(self) -\u003e None: self.size = \"Big\" class Flat(Building): def build_floor(self) -\u003e None: self.floor = \"More than One\" def build_size(self) -\u003e None: self.size = \"Small\" Singleton Pattern Ensure a class only has one instance, and provide a global point of access to it. Prefer Global Object Pattern in python Prototype Pattern Creates new object instances by cloning prototype. Faif ","wordCount":"1220","inLanguage":"en","image":"https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?cs=srgb\u0026dl=pexels-picjumbocom-196644.jpg\u0026fm=jpg","datePublished":"2021-08-28T00:00:00Z","dateModified":"2021-08-28T00:00:00Z","author":{"@type":"Person","name":"Xiang Chen"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://xiang.es/posts/patterns/"},"publisher":{"@type":"Organization","name":"Just another developer","logo":{"@type":"ImageObject","url":"https://xiang.es/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://xiang.es/ accesskey=h title="Just another developer (Alt + H)">Just another developer</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://xiang.es/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://xiang.es/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://xiang.es/about/ title=About><span>About</span></a></li><li><a href=https://xiang.es/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://xiang.es/roadmap/ title=Roadmap><span>Roadmap</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>üìù Design Patterns notes</h1><div class=post-meta><span title='2021-08-28 00:00:00 +0000 UTC'>August 28, 2021</span>&nbsp;¬∑&nbsp;6 min&nbsp;¬∑&nbsp;Xiang Chen</div></header><figure class=entry-cover><img loading=lazy src="https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?cs=srgb&amp;dl=pexels-picjumbocom-196644.jpg&amp;fm=jpg" alt></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#references aria-label=References>References</a></li><li><a href=#behavioral aria-label=Behavioral>Behavioral</a><ul><li><a href=#strategy-patternhttpsrefactoringgurudesign-patternsstrategy aria-label="‚≠êStrategy Pattern">‚≠ê<a href=https://refactoring.guru/design-patterns/strategy>Strategy Pattern</a></a></li><li><a href=#observer-patternhttpsrefactoringgurudesign-patternsobserver aria-label="‚≠êObserver Pattern">‚≠ê<a href=https://refactoring.guru/design-patterns/observer>Observer Pattern</a></a></li><li><a href=#command-patternhttpsrefactoringgurudesign-patternscommand aria-label="‚≠êCommand Pattern">‚≠ê<a href=https://refactoring.guru/design-patterns/command>Command Pattern</a></a></li><li><a href=#iterator-patternhttpsrefactoringgurudesign-patternsiterator aria-label="‚≠êIterator Pattern">‚≠ê<a href=https://refactoring.guru/design-patterns/iterator>Iterator Pattern</a></a></li><li><a href=#template-method-patternhttpsrefactoringgurudesign-patternstemplate-method aria-label="Template Method Pattern"><a href=https://refactoring.guru/design-patterns/template-method>Template Method Pattern</a></a></li><li><a href=#state-patternhttpsrefactoringgurudesign-patternsstate aria-label="State Pattern"><a href=https://refactoring.guru/design-patterns/state>State Pattern</a></a></li><li><a href=#chain-of-responsibility-patternhttpsrefactoringgurudesign-patternschain-of-responsibility aria-label="Chain of Responsibility Pattern"><a href=https://refactoring.guru/design-patterns/chain-of-responsibility>Chain of Responsibility Pattern</a></a></li><li><a href=#mediator-patternhttpsrefactoringgurudesign-patternsmediator aria-label="Mediator Pattern"><a href=https://refactoring.guru/design-patterns/mediator>Mediator Pattern</a></a></li><li><a href=#memento-patternhttpsrefactoringgurudesign-patternsmemento aria-label="Memento Pattern"><a href=https://refactoring.guru/design-patterns/memento>Memento Pattern</a></a></li><li><a href=#visitor-patternhttpsrefactoringgurudesign-patternsvisitor aria-label="Visitor Pattern"><a href=https://refactoring.guru/design-patterns/visitor>Visitor Pattern</a></a></li></ul></li><li><a href=#structural aria-label=Structural>Structural</a><ul><li><a href=#adapter-patternhttpsrefactoringgurudesign-patternsadapter aria-label="‚≠êAdapter Pattern">‚≠ê<a href=https://refactoring.guru/design-patterns/adapter>Adapter Pattern</a></a></li><li><a href=#model-view-controller-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralmvcpy aria-label="‚≠êModel-View-Controller Pattern">‚≠ê<a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/mvc.py>Model-View-Controller Pattern</a></a></li><li><a href=#decorator-patternhttpsrefactoringgurudesign-patternsdecorator aria-label="Decorator Pattern"><a href=https://refactoring.guru/design-patterns/decorator>Decorator Pattern</a></a></li><li><a href=#facade-patternhttpsrefactoringgurudesign-patternsfacade aria-label="Facade Pattern"><a href=https://refactoring.guru/design-patterns/facade>Facade Pattern</a></a></li><li><a href=#composite-patternhttpsrefactoringgurudesign-patternscomposite aria-label="Composite Pattern"><a href=https://refactoring.guru/design-patterns/composite>Composite Pattern</a></a></li><li><a href=#proxy-patternhttpsrefactoringgurudesign-patternsproxy aria-label="Proxy Pattern"><a href=https://refactoring.guru/design-patterns/proxy>Proxy Pattern</a></a></li><li><a href=#bridge-patternhttpsrefactoringgurudesign-patternsbridge aria-label="Bridge Pattern"><a href=https://refactoring.guru/design-patterns/bridge>Bridge Pattern</a></a></li><li><a href=#flyweight-patternhttpsrefactoringgurudesign-patternsflyweight aria-label="Flyweight Pattern"><a href=https://refactoring.guru/design-patterns/flyweight>Flyweight Pattern</a></a></li></ul></li><li><a href=#creational aria-label=Creational>Creational</a><ul><li><a href=#factory-patternhttpsrefactoringgurudesign-patternsfactory-method aria-label="‚≠êFactory Pattern">‚≠ê<a href=https://refactoring.guru/design-patterns/factory-method>Factory Pattern</a></a></li><li><a href=#abstract-factory-patternhttpsrefactoringgurudesign-patternsabstract-factory aria-label="‚≠êAbstract Factory Pattern">‚≠ê<a href=https://refactoring.guru/design-patterns/abstract-factory>Abstract Factory Pattern</a></a></li><li><a href=#builder-patternhttpsrefactoringgurudesign-patternsbuilder aria-label="‚≠êBuilder Pattern">‚≠ê<a href=https://refactoring.guru/design-patterns/builder>Builder Pattern</a></a></li><li><a href=#singleton-patternhttpsrefactoringgurudesign-patternssingleton aria-label="Singleton Pattern"><a href=https://refactoring.guru/design-patterns/singleton>Singleton Pattern</a></a></li><li><a href=#prototype-patternhttpsrefactoringgurudesign-patternsprototype aria-label="Prototype Pattern"><a href=https://refactoring.guru/design-patterns/prototype>Prototype Pattern</a></a></li></ul></li></ul></div></details></div><div class=post-content><p>Some notes about design patterns</p><style type=text/css>.notice{--root-color:#444;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#c33;--warning-content:#fee;--info-title:#fb7;--info-content:#fec;--note-title:#6be;--note-content:#e7f2fa;--tip-title:#5a5;--tip-content:#efe}@media(prefers-color-scheme:dark){.notice{--root-color:#ddd;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#800;--warning-content:#400;--info-title:#a50;--info-content:#420;--note-title:#069;--note-content:#023;--tip-title:#363;--tip-content:#121}}body.dark .notice{--root-color:#ddd;--root-background:#eff;--title-color:#fff;--title-background:#7bd;--warning-title:#800;--warning-content:#400;--info-title:#a50;--info-content:#420;--note-title:#069;--note-content:#023;--tip-title:#363;--tip-content:#121}.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:var(--root-color);background:var(--root-background)}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:var(--title-color);background:var(--title-background)}.notice.warning .notice-title{background:var(--warning-title)}.notice.warning{background:var(--warning-content)}.notice.info .notice-title{background:var(--info-title)}.notice.info{background:var(--info-content)}.notice.note .notice-title{background:var(--note-title)}.notice.note{background:var(--note-content)}.notice.tip .notice-title{background:var(--tip-title)}.notice.tip{background:var(--tip-content)}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:.125em;position:relative}</style><div><svg width="0" height="0" display="none"><symbol id="tip-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379.0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628.0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628.0l-22.627 22.627c-6.248 6.248-6.248 16.379.0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/></symbol><symbol id="note-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="warning-notice" viewBox="0 0 576 512" preserveAspectRatio="xMidYMid meet"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937.0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154.0l239.94 416.028zM288 354c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="info-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196.0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627.0 12 5.373 12 12v1e2h12c6.627.0 12 5.373 12 12v24z"/></symbol></svg></div><div class="notice info"><p class="first notice-title"><span class="icon-notice baseline"><svg><use href="#info-notice"/></svg></span>Info</p><p>Do <strong>NOT</strong> use design patterns just because you can.</p><p>Use them when they make sense, they should emerge naturally from the problem.</p><p>In some languages, they might be considered anti-patterns.</p></div><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ul><li><strong><a href=https://python-patterns.guide/>https://python-patterns.guide/</a></strong></li><li><a href=https://refactoring.guru/design-patterns/catalog>https://refactoring.guru/design-patterns/catalog</a></li><li><a href=https://www.oreilly.com/library/view/head-first-design/9781492077992/>https://www.oreilly.com/library/view/head-first-design/9781492077992/</a></li><li><a href=https://github.com/faif/python-patterns>https://github.com/faif/python-patterns</a></li></ul><h2 id=behavioral>Behavioral<a hidden class=anchor aria-hidden=true href=#behavioral>#</a></h2><h3 id=strategy-patternhttpsrefactoringgurudesign-patternsstrategy>‚≠ê<a href=https://refactoring.guru/design-patterns/strategy>Strategy Pattern</a><a hidden class=anchor aria-hidden=true href=#strategy-patternhttpsrefactoringgurudesign-patternsstrategy>#</a></h3><ul><li><p>Define a family of algorithms, encapsulate each one, and make them interchangeable.</p></li><li><p>Enables algorithm at runtime, hide implementation details, easy to add new strategies.</p></li><li><details><summary>Example</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> Protocol
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Order</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(
</span></span><span style=display:flex><span>        self,
</span></span><span style=display:flex><span>        price: float,
</span></span><span style=display:flex><span>        discount_strategy: <span style=color:#e6db74>&#34;DiscountStrategy&#34;</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>,
</span></span><span style=display:flex><span>    ):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>price <span style=color:#f92672>=</span> price
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>discount_strategy <span style=color:#f92672>=</span> discount_strategy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>apply_discount</span>(self) <span style=color:#f92672>-&gt;</span> float:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>discount_strategy:
</span></span><span style=display:flex><span>            discount <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>discount_strategy(self)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            discount <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>price <span style=color:#f92672>-</span> discount
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DiscountStrategy</span>(Protocol):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __call__(self, order: Order) <span style=color:#f92672>-&gt;</span> float:
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>ten_percent_discount</span>(order: Order) <span style=color:#f92672>-&gt;</span> float:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> order<span style=color:#f92672>.</span>price <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_sale_discount</span>(order: Order) <span style=color:#f92672>-&gt;</span> float:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> order<span style=color:#f92672>.</span>price <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.25</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>20</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    order <span style=color:#f92672>=</span> Order(<span style=color:#ae81ff>100</span>, discount_strategy<span style=color:#f92672>=</span>ten_percent_discount)
</span></span><span style=display:flex><span>    print(order<span style=color:#f92672>.</span>apply_discount())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    order <span style=color:#f92672>=</span> Order(<span style=color:#ae81ff>100</span>, discount_strategy<span style=color:#f92672>=</span>on_sale_discount)
</span></span><span style=display:flex><span>    print(order<span style=color:#f92672>.</span>apply_discount())
</span></span></code></pre></div></details></li></ul><h3 id=observer-patternhttpsrefactoringgurudesign-patternsobserver>‚≠ê<a href=https://refactoring.guru/design-patterns/observer>Observer Pattern</a><a hidden class=anchor aria-hidden=true href=#observer-patternhttpsrefactoringgurudesign-patternsobserver>#</a></h3><ul><li><p>Maintains a list of dependents and notifies them of any state changes.</p></li><li><p><a href=https://docs.djangoproject.com/en/4.2/topics/signals/>Django signals</a> / <a href=https://flask.palletsprojects.com/en/2.3.x/signals/>Flask signals</a></p></li><li><details><summary>Example</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Observer</span>(Protocol):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>update</span>(self, subject: <span style=color:#e6db74>&#34;Subject&#34;</span>) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Subject</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_observers: list[Observer] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>attach</span>(self, observer: Observer) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> observer <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>_observers:
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>_observers<span style=color:#f92672>.</span>append(observer)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>detach</span>(self, observer: Observer) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>with</span> suppress(<span style=color:#a6e22e>ValueError</span>):
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>_observers<span style=color:#f92672>.</span>remove(observer)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>notify</span>(self, modifier: Observer <span style=color:#f92672>|</span> <span style=color:#66d9ef>None</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> observer <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>_observers:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> modifier <span style=color:#f92672>!=</span> observer:
</span></span><span style=display:flex><span>                observer<span style=color:#f92672>.</span>update(self)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Data</span>(Subject):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, name: str <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        super()<span style=color:#f92672>.</span>__init__()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> name
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_data <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@property</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>data</span>(self) <span style=color:#f92672>-&gt;</span> int:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>_data
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@data.setter</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>data</span>(self, value: int) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_data <span style=color:#f92672>=</span> value
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>notify()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HexViewer</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>update</span>(self, subject: Data) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;HexViewer: Subject </span><span style=color:#e6db74>{</span>subject<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74> has data 0x</span><span style=color:#e6db74>{</span>subject<span style=color:#f92672>.</span>data<span style=color:#e6db74>:</span><span style=color:#e6db74>x</span><span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DecimalViewer</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>update</span>(self, subject: Data) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;DecimalViewer: Subject </span><span style=color:#e6db74>{</span>subject<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74> has data </span><span style=color:#e6db74>{</span>subject<span style=color:#f92672>.</span>data<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    data1 <span style=color:#f92672>=</span> Data(<span style=color:#e6db74>&#34;Data 1&#34;</span>)
</span></span><span style=display:flex><span>    view1 <span style=color:#f92672>=</span> DecimalViewer()
</span></span><span style=display:flex><span>    view2 <span style=color:#f92672>=</span> HexViewer()
</span></span><span style=display:flex><span>    data1<span style=color:#f92672>.</span>attach(view1)
</span></span><span style=display:flex><span>    data1<span style=color:#f92672>.</span>attach(view2)
</span></span><span style=display:flex><span>    data1<span style=color:#f92672>.</span>data <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>
</span></span></code></pre></div></details></li></ul><h3 id=command-patternhttpsrefactoringgurudesign-patternscommand>‚≠ê<a href=https://refactoring.guru/design-patterns/command>Command Pattern</a><a hidden class=anchor aria-hidden=true href=#command-patternhttpsrefactoringgurudesign-patternscommand>#</a></h3><ul><li><p>Object oriented implementation of callback functions.</p></li><li><details><summary>Example</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> Protocol
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HideFileCommand</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_hidden_files: list[str] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>execute</span>(self, filename: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;hiding </span><span style=color:#e6db74>{</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_hidden_files<span style=color:#f92672>.</span>append(filename)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>undo</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        filename <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>_hidden_files<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;un-hiding </span><span style=color:#e6db74>{</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DeleteFileCommand</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_deleted_files: list[str] <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>execute</span>(self, filename: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;deleting </span><span style=color:#e6db74>{</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_deleted_files<span style=color:#f92672>.</span>append(filename)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>undo</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        filename <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>_deleted_files<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;restoring </span><span style=color:#e6db74>{</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Command</span>(Protocol):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>execute</span>(self, filename: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>undo</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MenuItem</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, command: Command) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_command <span style=color:#f92672>=</span> command
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_do_press</span>(self, filename: str) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_command<span style=color:#f92672>.</span>execute(filename)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>on_undo_press</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_command<span style=color:#f92672>.</span>undo()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    item1 <span style=color:#f92672>=</span> MenuItem(DeleteFileCommand())
</span></span><span style=display:flex><span>    item2 <span style=color:#f92672>=</span> MenuItem(HideFileCommand())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    test_file_name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;test-file&#34;</span>
</span></span><span style=display:flex><span>    item1<span style=color:#f92672>.</span>on_do_press(test_file_name)
</span></span><span style=display:flex><span>    item1<span style=color:#f92672>.</span>on_undo_press()
</span></span><span style=display:flex><span>    item2<span style=color:#f92672>.</span>on_do_press(test_file_name)
</span></span><span style=display:flex><span>    item2<span style=color:#f92672>.</span>on_undo_press()
</span></span></code></pre></div></details></li></ul><h3 id=iterator-patternhttpsrefactoringgurudesign-patternsiterator>‚≠ê<a href=https://refactoring.guru/design-patterns/iterator>Iterator Pattern</a><a hidden class=anchor aria-hidden=true href=#iterator-patternhttpsrefactoringgurudesign-patternsiterator>#</a></h3><ul><li><p>Provides a way to access the elements of an aggregate object
sequentially without exposing its underlying representation.</p></li><li><details><summary>Example</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>count_to</span>(count: int):
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Counts by word numbers, up to a maximum of five&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    numbers <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;one&#34;</span>, <span style=color:#e6db74>&#34;two&#34;</span>, <span style=color:#e6db74>&#34;three&#34;</span>, <span style=color:#e6db74>&#34;four&#34;</span>, <span style=color:#e6db74>&#34;five&#34;</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>yield from</span> numbers[:count]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>count_to_five</span>() <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> count_to(<span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> number <span style=color:#f92672>in</span> count_to_five():
</span></span><span style=display:flex><span>    print(number)
</span></span></code></pre></div></details></li></ul><h3 id=template-method-patternhttpsrefactoringgurudesign-patternstemplate-method><a href=https://refactoring.guru/design-patterns/template-method>Template Method Pattern</a><a hidden class=anchor aria-hidden=true href=#template-method-patternhttpsrefactoringgurudesign-patternstemplate-method>#</a></h3><ul><li><p>Skeleton of a base algorithm, definition of exact steps in subclasses.</p></li><li><p><a href=https://docs.djangoproject.com/en/2.1/topics/class-based-views/>Django Class Based Views</a></p></li><li><details><summary>Example</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>template_function</span>(getter, converter<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>, to_save<span style=color:#f92672>=</span><span style=color:#66d9ef>False</span>) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>    data <span style=color:#f92672>=</span> getter()
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Got `</span><span style=color:#e6db74>{</span>data<span style=color:#e6db74>}</span><span style=color:#e6db74>`&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> len(data) <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>and</span> converter:
</span></span><span style=display:flex><span>        data <span style=color:#f92672>=</span> converter(data)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Skip conversion&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> to_save:
</span></span><span style=display:flex><span>        saver()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;`</span><span style=color:#e6db74>{</span>data<span style=color:#e6db74>}</span><span style=color:#e6db74>` was processed&#34;</span>)
</span></span></code></pre></div></details></li></ul><h3 id=state-patternhttpsrefactoringgurudesign-patternsstate><a href=https://refactoring.guru/design-patterns/state>State Pattern</a><a hidden class=anchor aria-hidden=true href=#state-patternhttpsrefactoringgurudesign-patternsstate>#</a></h3><ul><li><p>Lets an object alter its behavior when its internal state changes.</p></li><li><details><summary>Example</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>State</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>scan</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>pos <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> self<span style=color:#f92672>.</span>pos <span style=color:#f92672>==</span> len(self<span style=color:#f92672>.</span>stations):
</span></span><span style=display:flex><span>            self<span style=color:#f92672>.</span>pos <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Scanning... Station is </span><span style=color:#e6db74>{</span>self<span style=color:#f92672>.</span>stations[self<span style=color:#f92672>.</span>pos]<span style=color:#e6db74>}</span><span style=color:#e6db74> </span><span style=color:#e6db74>{</span>self<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>AmState</span>(State):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, radio: Radio) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>radio <span style=color:#f92672>=</span> radio
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>stations <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;1250&#34;</span>, <span style=color:#e6db74>&#34;1380&#34;</span>, <span style=color:#e6db74>&#34;1510&#34;</span>]
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>pos <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;AM&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>toggle_amfm</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Switching to FM&#34;</span>)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>radio<span style=color:#f92672>.</span>state <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>radio<span style=color:#f92672>.</span>fmstate
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FmState</span>(State):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, radio: Radio) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>radio <span style=color:#f92672>=</span> radio
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>stations <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;81.3&#34;</span>, <span style=color:#e6db74>&#34;89.1&#34;</span>, <span style=color:#e6db74>&#34;103.9&#34;</span>]
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>pos <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;FM&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>toggle_amfm</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Switching to AM&#34;</span>)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>radio<span style=color:#f92672>.</span>state <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>radio<span style=color:#f92672>.</span>amstate
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Radio</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;We have an AM state and an FM state&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>amstate <span style=color:#f92672>=</span> AmState(self)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>fmstate <span style=color:#f92672>=</span> FmState(self)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>state <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>amstate
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>toggle_amfm</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>state<span style=color:#f92672>.</span>toggle_amfm()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>scan</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>state<span style=color:#f92672>.</span>scan()
</span></span></code></pre></div></details></li></ul><h3 id=chain-of-responsibility-patternhttpsrefactoringgurudesign-patternschain-of-responsibility><a href=https://refactoring.guru/design-patterns/chain-of-responsibility>Chain of Responsibility Pattern</a><a hidden class=anchor aria-hidden=true href=#chain-of-responsibility-patternhttpsrefactoringgurudesign-patternschain-of-responsibility>#</a></h3><ul><li>Allow a request to pass down a chain of receivers until it is handled.</li><li><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/chain_of_responsibility.py>Faif</a></li></ul><h3 id=mediator-patternhttpsrefactoringgurudesign-patternsmediator><a href=https://refactoring.guru/design-patterns/mediator>Mediator Pattern</a><a hidden class=anchor aria-hidden=true href=#mediator-patternhttpsrefactoringgurudesign-patternsmediator>#</a></h3><ul><li>Encapsulates how a set of objects interact.</li><li><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/mediator.py>Faif</a></li></ul><h3 id=memento-patternhttpsrefactoringgurudesign-patternsmemento><a href=https://refactoring.guru/design-patterns/memento>Memento Pattern</a><a hidden class=anchor aria-hidden=true href=#memento-patternhttpsrefactoringgurudesign-patternsmemento>#</a></h3><ul><li>Provides the ability to restore an object to its previous state.</li><li><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/memento.py>Faif</a></li></ul><h3 id=visitor-patternhttpsrefactoringgurudesign-patternsvisitor><a href=https://refactoring.guru/design-patterns/visitor>Visitor Pattern</a><a hidden class=anchor aria-hidden=true href=#visitor-patternhttpsrefactoringgurudesign-patternsvisitor>#</a></h3><ul><li>Separates an algorithm from an object structure on which it operates.</li><li><a href=https://github.com/faif/python-patterns/blob/master/patterns/behavioral/visitor.py>Faif</a></li></ul><h2 id=structural>Structural<a hidden class=anchor aria-hidden=true href=#structural>#</a></h2><h3 id=adapter-patternhttpsrefactoringgurudesign-patternsadapter>‚≠ê<a href=https://refactoring.guru/design-patterns/adapter>Adapter Pattern</a><a hidden class=anchor aria-hidden=true href=#adapter-patternhttpsrefactoringgurudesign-patternsadapter>#</a></h3><ul><li><p>Allows the interface of an existing class to be used as another interface.</p></li><li><details><summary>Example</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>T <span style=color:#f92672>=</span> TypeVar(<span style=color:#e6db74>&#34;T&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Adapter</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, obj: T, <span style=color:#f92672>**</span>adapted_methods: Callable):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;We set the adapted methods in the object&#39;s dict.&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>obj <span style=color:#f92672>=</span> obj
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>__dict__<span style=color:#f92672>.</span>update(adapted_methods)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __getattr__(self, attr):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;All non-adapted calls are passed to the object.&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> getattr(self<span style=color:#f92672>.</span>obj, attr)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>original_dict</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;&#34;&#34;Print original object dict.&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>obj<span style=color:#f92672>.</span>__dict__
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cat <span style=color:#f92672>=</span> Cat()
</span></span><span style=display:flex><span>objects<span style=color:#f92672>.</span>append(Adapter(cat, make_noise<span style=color:#f92672>=</span>cat<span style=color:#f92672>.</span>meow))
</span></span><span style=display:flex><span>human <span style=color:#f92672>=</span> Human()
</span></span><span style=display:flex><span>objects<span style=color:#f92672>.</span>append(Adapter(human, make_noise<span style=color:#f92672>=</span>human<span style=color:#f92672>.</span>speak))
</span></span><span style=display:flex><span>car <span style=color:#f92672>=</span> Car()
</span></span><span style=display:flex><span>objects<span style=color:#f92672>.</span>append(Adapter(car, make_noise<span style=color:#f92672>=</span><span style=color:#66d9ef>lambda</span>: car<span style=color:#f92672>.</span>make_noise(<span style=color:#ae81ff>3</span>)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> obj <span style=color:#f92672>in</span> objects:
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;A </span><span style=color:#e6db74>{0}</span><span style=color:#e6db74> goes </span><span style=color:#e6db74>{1}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>.</span>format(obj<span style=color:#f92672>.</span>name, obj<span style=color:#f92672>.</span>make_noise()))
</span></span></code></pre></div></details></li></ul><h3 id=model-view-controller-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralmvcpy>‚≠ê<a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/mvc.py>Model-View-Controller Pattern</a><a hidden class=anchor aria-hidden=true href=#model-view-controller-patternhttpsgithubcomfaifpython-patternsblobmasterpatternsstructuralmvcpy>#</a></h3><ul><li>Separates data in GUIs from the ways it is presented, and accepted.</li></ul><h3 id=decorator-patternhttpsrefactoringgurudesign-patternsdecorator><a href=https://refactoring.guru/design-patterns/decorator>Decorator Pattern</a><a hidden class=anchor aria-hidden=true href=#decorator-patternhttpsrefactoringgurudesign-patternsdecorator>#</a></h3><ul><li>Adds behaviour to object without affecting its class.</li><li><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/decorator.py>Faif</a></li></ul><h3 id=facade-patternhttpsrefactoringgurudesign-patternsfacade><a href=https://refactoring.guru/design-patterns/facade>Facade Pattern</a><a hidden class=anchor aria-hidden=true href=#facade-patternhttpsrefactoringgurudesign-patternsfacade>#</a></h3><ul><li>Provides a simpler unified interface to a complex system.</li><li><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/facade.py>Faif</a></li></ul><h3 id=composite-patternhttpsrefactoringgurudesign-patternscomposite><a href=https://refactoring.guru/design-patterns/composite>Composite Pattern</a><a hidden class=anchor aria-hidden=true href=#composite-patternhttpsrefactoringgurudesign-patternscomposite>#</a></h3><ul><li>Describes a group of objects that is treated as a single instance.</li><li><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/composite.py>Faif</a></li></ul><h3 id=proxy-patternhttpsrefactoringgurudesign-patternsproxy><a href=https://refactoring.guru/design-patterns/proxy>Proxy Pattern</a><a hidden class=anchor aria-hidden=true href=#proxy-patternhttpsrefactoringgurudesign-patternsproxy>#</a></h3><ul><li>Add functionality or logic to a resource without changing its interface.</li><li><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/proxy.py>Faif</a></li></ul><h3 id=bridge-patternhttpsrefactoringgurudesign-patternsbridge><a href=https://refactoring.guru/design-patterns/bridge>Bridge Pattern</a><a hidden class=anchor aria-hidden=true href=#bridge-patternhttpsrefactoringgurudesign-patternsbridge>#</a></h3><ul><li>Decouples an abstraction from its implementation.</li><li><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/bridge.py>Faif</a></li></ul><h3 id=flyweight-patternhttpsrefactoringgurudesign-patternsflyweight><a href=https://refactoring.guru/design-patterns/flyweight>Flyweight Pattern</a><a hidden class=anchor aria-hidden=true href=#flyweight-patternhttpsrefactoringgurudesign-patternsflyweight>#</a></h3><ul><li>Minimizes memory usage by sharing data with other similar objects.</li><li><a href=https://github.com/faif/python-patterns/blob/master/patterns/structural/flyweight.py>Faif</a></li></ul><h2 id=creational>Creational<a hidden class=anchor aria-hidden=true href=#creational>#</a></h2><h3 id=factory-patternhttpsrefactoringgurudesign-patternsfactory-method>‚≠ê<a href=https://refactoring.guru/design-patterns/factory-method>Factory Pattern</a><a hidden class=anchor aria-hidden=true href=#factory-patternhttpsrefactoringgurudesign-patternsfactory-method>#</a></h3><ul><li><p>Object for creating other objects without having to specify the exact class.</p></li><li><details><summary>Example (Real Python)</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SongSerializer</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>serialize</span>(self, song, format):
</span></span><span style=display:flex><span>        serializer <span style=color:#f92672>=</span> get_serializer(format)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> serializer(song)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_serializer</span>(format):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> format <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;JSON&#39;</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> _serialize_to_json
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>elif</span> format <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;XML&#39;</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> _serialize_to_xml
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>ValueError</span>(format)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>_serialize_to_json</span>(song):
</span></span><span style=display:flex><span>    payload <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;id&#39;</span>: song<span style=color:#f92672>.</span>song_id,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;title&#39;</span>: song<span style=color:#f92672>.</span>title,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;artist&#39;</span>: song<span style=color:#f92672>.</span>artist
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> json<span style=color:#f92672>.</span>dumps(payload)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>_serialize_to_xml</span>(song):
</span></span><span style=display:flex><span>    song_element <span style=color:#f92672>=</span> et<span style=color:#f92672>.</span>Element(<span style=color:#e6db74>&#39;song&#39;</span>, attrib<span style=color:#f92672>=</span>{<span style=color:#e6db74>&#39;id&#39;</span>: song<span style=color:#f92672>.</span>song_id})
</span></span><span style=display:flex><span>    title <span style=color:#f92672>=</span> et<span style=color:#f92672>.</span>SubElement(song_element, <span style=color:#e6db74>&#39;title&#39;</span>)
</span></span><span style=display:flex><span>    title<span style=color:#f92672>.</span>text <span style=color:#f92672>=</span> song<span style=color:#f92672>.</span>title
</span></span><span style=display:flex><span>    artist <span style=color:#f92672>=</span> et<span style=color:#f92672>.</span>SubElement(song_element, <span style=color:#e6db74>&#39;artist&#39;</span>)
</span></span><span style=display:flex><span>    artist<span style=color:#f92672>.</span>text <span style=color:#f92672>=</span> song<span style=color:#f92672>.</span>artist
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> et<span style=color:#f92672>.</span>tostring(song_element, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;unicode&#39;</span>)
</span></span></code></pre></div></details></li><li><details><summary>Example (Faif)</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>GreekLocalizer</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>translations <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;dog&#34;</span>: <span style=color:#e6db74>&#34;œÉŒ∫œçŒªŒøœÇ&#34;</span>, <span style=color:#e6db74>&#34;cat&#34;</span>: <span style=color:#e6db74>&#34;Œ≥Œ¨œÑŒ±&#34;</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>localize</span>(self, msg: str) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>translations<span style=color:#f92672>.</span>get(msg, msg)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>EnglishLocalizer</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>localize</span>(self, msg: str) <span style=color:#f92672>-&gt;</span> str:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> msg
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_localizer</span>(language: str <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;English&#34;</span>) <span style=color:#f92672>-&gt;</span> object:
</span></span><span style=display:flex><span>    localizers <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;English&#34;</span>: EnglishLocalizer,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;Greek&#34;</span>: GreekLocalizer,
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> localizers[language]()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>e, g <span style=color:#f92672>=</span> get_localizer(language<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;English&#34;</span>), get_localizer(language<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Greek&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> msg <span style=color:#f92672>in</span> [<span style=color:#e6db74>&#34;dog&#34;</span>, <span style=color:#e6db74>&#34;parrot&#34;</span>, <span style=color:#e6db74>&#34;cat&#34;</span>, <span style=color:#e6db74>&#34;bear&#34;</span>]:
</span></span><span style=display:flex><span>    print(e<span style=color:#f92672>.</span>localize(msg), g<span style=color:#f92672>.</span>localize(msg))
</span></span></code></pre></div></details></li></ul><h3 id=abstract-factory-patternhttpsrefactoringgurudesign-patternsabstract-factory>‚≠ê<a href=https://refactoring.guru/design-patterns/abstract-factory>Abstract Factory Pattern</a><a hidden class=anchor aria-hidden=true href=#abstract-factory-patternhttpsrefactoringgurudesign-patternsabstract-factory>#</a></h3><ul><li><p>Provides a way to encapsulate a group of individual factories.</p></li><li><details><summary>Example</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PetShop</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, animal_factory: Type[Pet]) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>pet_factory <span style=color:#f92672>=</span> animal_factory
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>buy_pet</span>(self, name: str) <span style=color:#f92672>-&gt;</span> Pet:
</span></span><span style=display:flex><span>        pet <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>pet_factory(name)
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Here is your lovely </span><span style=color:#e6db74>{</span>pet<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> pet
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Create a random animal</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>random_animal</span>(name: str) <span style=color:#f92672>-&gt;</span> Pet:
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;&#34;&#34;Let&#39;s be dynamic!&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> random<span style=color:#f92672>.</span>choice([Dog, Cat])(name)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cat_shop <span style=color:#f92672>=</span> PetShop(Cat)
</span></span><span style=display:flex><span>pet <span style=color:#f92672>=</span> cat_shop<span style=color:#f92672>.</span>buy_pet(<span style=color:#e6db74>&#34;Lucy&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>shop <span style=color:#f92672>=</span> PetShop(random_animal)
</span></span><span style=display:flex><span>pet <span style=color:#f92672>=</span> shop<span style=color:#f92672>.</span>buy_pet(<span style=color:#e6db74>&#34;Max&#34;</span>)
</span></span></code></pre></div></details></li></ul><h3 id=builder-patternhttpsrefactoringgurudesign-patternsbuilder>‚≠ê<a href=https://refactoring.guru/design-patterns/builder>Builder Pattern</a><a hidden class=anchor aria-hidden=true href=#builder-patternhttpsrefactoringgurudesign-patternsbuilder>#</a></h3><ul><li><p>Decouples the <strong>creation of a complex object</strong> and its representation.</p></li><li><details><summary>Example</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Building</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>build_floor()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>build_size()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>build_floor</span>(self): <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>NotImplementedError</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>build_size</span>(self): <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>NotImplementedError</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Concrete Buildings</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>House</span>(Building):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>build_floor</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>floor <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;One&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>build_size</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>size <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Big&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Flat</span>(Building):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>build_floor</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>floor <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;More than One&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>build_size</span>(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>size <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Small&#34;</span>
</span></span></code></pre></div></details></li></ul><h3 id=singleton-patternhttpsrefactoringgurudesign-patternssingleton><a href=https://refactoring.guru/design-patterns/singleton>Singleton Pattern</a><a hidden class=anchor aria-hidden=true href=#singleton-patternhttpsrefactoringgurudesign-patternssingleton>#</a></h3><ul><li>Ensure a class only has one instance, and provide a global point of access to it.</li><li>Prefer <a href=https://python-patterns.guide/python/module-globals/#the-global-object-pattern>Global Object Pattern</a>
in python</li></ul><h3 id=prototype-patternhttpsrefactoringgurudesign-patternsprototype><a href=https://refactoring.guru/design-patterns/prototype>Prototype Pattern</a><a hidden class=anchor aria-hidden=true href=#prototype-patternhttpsrefactoringgurudesign-patternsprototype>#</a></h3><ul><li>Creates new object instances by cloning prototype.</li><li><a href=https://github.com/faif/python-patterns/blob/master/patterns/creational/prototype.py>Faif</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://xiang.es/tags/software-engineering/>Software Engineering</a></li><li><a href=https://xiang.es/tags/python/>Python</a></li></ul><nav class=paginav><a class=prev href=https://xiang.es/posts/ddd/><span class=title>¬´ Prev</span><br><span>üìù Domain Driven Design notes</span>
</a><a class=next href=https://xiang.es/posts/explaining-cp-sat/><span class=title>Next ¬ª</span><br><span>üéì How the CP-SAT solver works</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on x" href="https://x.com/intent/tweet/?text=%f0%9f%93%9d%20Design%20Patterns%20notes&amp;url=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f&amp;hashtags=SoftwareEngineering%2cPython"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f&amp;title=%f0%9f%93%9d%20Design%20Patterns%20notes&amp;summary=%f0%9f%93%9d%20Design%20Patterns%20notes&amp;source=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f&title=%f0%9f%93%9d%20Design%20Patterns%20notes"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on whatsapp" href="https://api.whatsapp.com/send?text=%f0%9f%93%9d%20Design%20Patterns%20notes%20-%20https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on telegram" href="https://telegram.me/share/url?text=%f0%9f%93%9d%20Design%20Patterns%20notes&amp;url=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a><a target=_blank rel="noopener noreferrer" aria-label="share üìù Design Patterns notes on ycombinator" href="https://news.ycombinator.com/submitlink?t=%f0%9f%93%9d%20Design%20Patterns%20notes&u=https%3a%2f%2fxiang.es%2fposts%2fpatterns%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></div></footer><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//stradivari96.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2024 <a href=https://xiang.es/>Just another developer</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>